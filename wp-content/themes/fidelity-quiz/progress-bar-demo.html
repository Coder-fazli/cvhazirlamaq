<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Progress Bar Demo</title>
    <style>
        /* Import the progress bar styles */
        :root {
            --primary-color: #FF719A;
            --accent-color: #FF8FA3;
            --text-light: #FFFFFF;
            --text-dark: #2C2C2C;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .demo-container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .demo-section {
            margin-bottom: 40px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
        }

        .demo-title {
            color: white;
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .control-button {
            background: white;
            color: var(--primary-color);
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .control-button:hover {
            transform: translateY(-2px);
        }

        /* Enhanced Responsive Progress Bar Component */
        .progress-container {
            width: 100%;
            max-width: 400px;
            margin: 0 auto 30px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .progress-label {
            color: var(--text-light);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            text-align: center;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }

        .progress-bar-wrapper {
            width: 100%;
            height: 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 
                0 2px 8px rgba(0, 0, 0, 0.15),
                inset 0 1px 3px rgba(0, 0, 0, 0.2);
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, 
                rgba(255, 255, 255, 0.9) 0%,
                rgba(255, 255, 255, 1) 50%,
                rgba(255, 255, 255, 0.95) 100%
            );
            border-radius: 20px;
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 0 8px rgba(255, 255, 255, 0.6),
                inset 0 1px 1px rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: -50%;
            width: 50%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent,
                rgba(255, 255, 255, 0.4),
                transparent
            );
            animation: progressShimmer 2s infinite;
        }

        @keyframes progressShimmer {
            0% { left: -50%; }
            100% { left: 100%; }
        }

        .progress-percentage {
            color: var(--text-light);
            font-size: 12px;
            font-weight: 500;
            margin-top: 8px;
            text-align: center;
            opacity: 0.9;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
        }

        /* Mobile responsive */
        @media (max-width: 480px) {
            .progress-container {
                max-width: 320px;
                padding: 10px;
            }
            
            .progress-label {
                font-size: 13px;
                margin-bottom: 8px;
            }
            
            .progress-bar-wrapper {
                height: 10px;
            }
            
            .progress-percentage {
                font-size: 11px;
                margin-top: 6px;
            }

            .controls {
                justify-content: center;
            }

            .control-button {
                padding: 8px 16px;
                font-size: 14px;
            }
        }

        @media (max-width: 330px) {
            .progress-container {
                max-width: 260px;
                padding: 5px;
            }
            
            .progress-label {
                font-size: 11px;
                margin-bottom: 6px;
            }
            
            .progress-bar-wrapper {
                height: 6px;
            }
            
            .progress-percentage {
                font-size: 10px;
                margin-top: 4px;
            }
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>ðŸŽ¯ Responsive Progress Bar Component</h1>
        
        <div class="demo-section">
            <div class="demo-title">ðŸ“Š Standard Progress Bar</div>
            <div class="controls">
                <button class="control-button" onclick="demo1.updateProgress(0)">Reset</button>
                <button class="control-button" onclick="demo1.updateProgress(25)">25%</button>
                <button class="control-button" onclick="demo1.updateProgress(50)">50%</button>
                <button class="control-button" onclick="demo1.updateProgress(75)">75%</button>
                <button class="control-button" onclick="demo1.updateProgress(100)">100%</button>
            </div>
            <div id="demo-progress-1"></div>
        </div>
        
        <div class="demo-section">
            <div class="demo-title">ðŸ“ˆ Quiz-Style Progress (Steps)</div>
            <div class="controls">
                <button class="control-button" onclick="demo2.updateProgress(0, 50)">Start</button>
                <button class="control-button" onclick="demo2.updateProgress(10, 50)">10/50</button>
                <button class="control-button" onclick="demo2.updateProgress(25, 50)">25/50</button>
                <button class="control-button" onclick="demo2.updateProgress(40, 50)">40/50</button>
                <button class="control-button" onclick="demo2.updateProgress(50, 50)">Complete</button>
            </div>
            <div id="demo-progress-2"></div>
        </div>

        <div class="demo-section">
            <div class="demo-title">ðŸŽ¨ Custom Color & Height</div>
            <div class="controls">
                <button class="control-button" onclick="demo3.updateProgress(60); demo3.setColor('#4ADE80')">Green</button>
                <button class="control-button" onclick="demo3.updateProgress(60); demo3.setColor('#FBBF24')">Yellow</button>
                <button class="control-button" onclick="demo3.updateProgress(60); demo3.setColor('#F87171')">Red</button>
                <button class="control-button" onclick="demo3.updateProgress(60); demo3.setColor('#8B5CF6')">Purple</button>
            </div>
            <div id="demo-progress-3"></div>
        </div>
    </div>

    <script>
        // Include the ResponsiveProgressBar class (copy from footer.php)
        class ResponsiveProgressBar {
            constructor(containerId, options = {}) {
                this.container = document.getElementById(containerId);
                this.options = {
                    currentStep: options.currentStep || 0,
                    totalSteps: options.totalSteps || 100,
                    color: options.color || '#FFFFFF',
                    height: options.height || 12,
                    showPercentage: options.showPercentage !== false,
                    showLabel: options.showLabel !== false,
                    label: options.label || 'Progress',
                    animated: options.animated !== false,
                    ...options
                };
                
                if (this.container) {
                    this.render();
                }
            }
            
            render() {
                const percentage = Math.min(100, Math.max(0, (this.options.currentStep / this.options.totalSteps) * 100));
                
                this.container.innerHTML = `
                    <div class="progress-container">
                        ${this.options.showLabel ? `
                            <div class="progress-label">${this.options.label}</div>
                        ` : ''}
                        <div class="progress-bar-wrapper" style="height: ${this.options.height}px;">
                            <div class="progress-fill" data-percentage="${percentage}" style="
                                background: linear-gradient(90deg, 
                                    ${this.options.color}90, 
                                    ${this.options.color}, 
                                    ${this.options.color}95
                                );
                                width: 0%;
                            "></div>
                        </div>
                        ${this.options.showPercentage ? `
                            <div class="progress-percentage">
                                <span class="current-step">${this.options.currentStep}</span> of 
                                <span class="total-steps">${this.options.totalSteps}</span> completed
                                (<span class="percentage-value">0</span>%)
                            </div>
                        ` : ''}
                    </div>
                `;
                
                // Trigger animation after render
                setTimeout(() => this.animateToPercentage(percentage), 100);
            }
            
            animateToPercentage(percentage) {
                const progressFill = this.container.querySelector('.progress-fill');
                const percentageValue = this.container.querySelector('.percentage-value');
                
                if (progressFill) {
                    progressFill.style.width = percentage + '%';
                }
                
                if (percentageValue) {
                    this.animateNumber(0, percentage, 800, (value) => {
                        percentageValue.textContent = Math.round(value);
                    });
                }
            }
            
            animateNumber(start, end, duration, callback) {
                const startTime = performance.now();
                const animate = (currentTime) => {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const easeOut = 1 - Math.pow(1 - progress, 3);
                    const current = start + (end - start) * easeOut;
                    
                    callback(current);
                    
                    if (progress < 1) {
                        requestAnimationFrame(animate);
                    }
                };
                requestAnimationFrame(animate);
            }
            
            updateProgress(currentStep, totalSteps = null) {
                this.options.currentStep = currentStep;
                if (totalSteps !== null) {
                    this.options.totalSteps = totalSteps;
                }
                
                const percentage = Math.min(100, Math.max(0, (this.options.currentStep / this.options.totalSteps) * 100));
                
                // Update text elements
                const currentStepEl = this.container.querySelector('.current-step');
                const totalStepsEl = this.container.querySelector('.total-steps');
                
                if (currentStepEl) currentStepEl.textContent = this.options.currentStep;
                if (totalStepsEl) totalStepsEl.textContent = this.options.totalSteps;
                
                // Animate to new percentage
                this.animateToPercentage(percentage);
            }
            
            setColor(color) {
                this.options.color = color;
                const progressFill = this.container.querySelector('.progress-fill');
                if (progressFill) {
                    progressFill.style.background = `linear-gradient(90deg, ${color}90, ${color}, ${color}95)`;
                }
            }
        }

        // Initialize demo progress bars
        let demo1, demo2, demo3;

        document.addEventListener('DOMContentLoaded', function() {
            // Demo 1: Standard percentage progress
            demo1 = new ResponsiveProgressBar('demo-progress-1', {
                currentStep: 0,
                totalSteps: 100,
                label: 'Standard Progress',
                color: '#FFFFFF',
                height: 12
            });

            // Demo 2: Quiz-style step progress
            demo2 = new ResponsiveProgressBar('demo-progress-2', {
                currentStep: 0,
                totalSteps: 50,
                label: 'Quiz Progress',
                color: '#FFFFFF',
                height: 14
            });

            // Demo 3: Custom height and color
            demo3 = new ResponsiveProgressBar('demo-progress-3', {
                currentStep: 60,
                totalSteps: 100,
                label: 'Custom Style',
                color: '#8B5CF6',
                height: 18
            });

            console.log('Progress bar demos initialized!');
        });
    </script>
</body>
</html>